# 계약 관리 시스템

## 시스템 개요
이 문서는 계약 관리의 구조와 기능을 정의합니다.
계약 정보 관리, 계약 진행 관리, 계약 이력 관리 등을 관리합니다.

## 주요 기능

### 1. 계약 정보 관리
계약의 기본 정보를 관리합니다.
- 계약 등록: 새로운 계약 등록
- 정보 수정: 계약 정보 변경
- 정보 조회: 계약 정보 조회
- 이력 관리: 정보 변경 이력 관리

### 2. 계약 진행 관리
계약의 진행 상황을 관리합니다.
- 진행 등록: 계약 진행 등록
- 진행 수정: 진행 정보 변경
- 진행 조회: 진행 목록 조회
- 진행 분석: 진행 상황 분석

### 3. 계약 문서 관리
계약 관련 문서를 관리합니다.
- 문서 등록: 계약 문서 등록
- 문서 수정: 문서 정보 변경
- 문서 조회: 문서 목록 조회
- 문서 보관: 문서 보관 관리

### 4. 계약 평가 관리
계약의 평가를 관리합니다.
- 평가 등록: 계약 평가 등록
- 평가 수정: 평가 정보 변경
- 평가 조회: 평가 목록 조회
- 평가 분석: 평가 결과 분석

## DB 연계
```sql
-- 계약 테이블: 계약의 기본 정보를 저장합니다.
-- 예: 계약명, 계약금액, 계약기간, 계약상대방 등의 정보를 관리합니다.
CREATE TABLE contracts (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 계약의 고유 식별자
    name VARCHAR(100) NOT NULL,                      -- 계약명
    code VARCHAR(50) UNIQUE NOT NULL,                -- 계약 코드
    amount DECIMAL(15,2) NOT NULL,                   -- 계약 금액
    start_date DATE NOT NULL,                        -- 계약 시작일
    end_date DATE NOT NULL,                          -- 계약 종료일
    vendor_id UUID REFERENCES vendors(id),           -- 계약 상대방 ID
    manager_id UUID REFERENCES users(id),            -- 담당자 ID
    status VARCHAR(50) NOT NULL,                     -- 상태
    description TEXT,                                -- 설명
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,  -- 생성 일시
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP   -- 수정 일시
);

-- 계약 상세 정보 테이블: 계약의 추가 정보를 저장합니다.
-- 예: 계약 유형, 계약 조건, 특이사항 등을 관리합니다.
CREATE TABLE contract_details (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 상세 정보의 고유 식별자
    contract_id UUID REFERENCES contracts(id),       -- 계약 ID
    contract_type VARCHAR(100),                      -- 계약 유형
    payment_terms TEXT,                              -- 지급 조건
    delivery_terms TEXT,                             -- 납품 조건
    warranty_terms TEXT,                             -- 보증 조건
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,  -- 생성 일시
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP   -- 수정 일시
);

-- 계약 진행 테이블: 계약 진행 정보를 저장합니다.
-- 예: 진행 단계, 진행률, 담당자 등을 관리합니다.
CREATE TABLE contract_progress (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 진행의 고유 식별자
    contract_id UUID REFERENCES contracts(id),       -- 계약 ID
    stage VARCHAR(100) NOT NULL,                     -- 진행 단계
    progress_rate INTEGER DEFAULT 0,                 -- 진행률
    manager_id UUID REFERENCES users(id),            -- 담당자 ID
    start_date DATE NOT NULL,                        -- 시작일
    end_date DATE,                                   -- 종료일
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,  -- 생성 일시
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP   -- 수정 일시
);

-- 계약 문서 테이블: 계약 문서 정보를 저장합니다.
-- 예: 문서명, 문서 유형, 파일 경로 등을 관리합니다.
CREATE TABLE contract_documents (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 문서의 고유 식별자
    contract_id UUID REFERENCES contracts(id),       -- 계약 ID
    name VARCHAR(100) NOT NULL,                      -- 문서명
    document_type VARCHAR(50) NOT NULL,              -- 문서 유형
    file_path TEXT NOT NULL,                         -- 파일 경로
    version VARCHAR(20),                             -- 버전
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,  -- 생성 일시
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP   -- 수정 일시
);

-- 계약 평가 테이블: 계약 평가 정보를 저장합니다.
-- 예: 평가 항목, 평가 점수, 평가자 등을 관리합니다.
CREATE TABLE contract_evaluations (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 평가의 고유 식별자
    contract_id UUID REFERENCES contracts(id),       -- 계약 ID
    evaluation_type VARCHAR(50) NOT NULL,            -- 평가 유형
    score INTEGER NOT NULL,                          -- 평가 점수
    evaluator_id UUID REFERENCES users(id),          -- 평가자 ID
    evaluation_date DATE NOT NULL,                   -- 평가일
    comments TEXT,                                   -- 평가 의견
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,  -- 생성 일시
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP   -- 수정 일시
);

-- 계약 이력 테이블: 계약 정보 변경 사항을 추적합니다.
-- 예: 계약명 변경, 금액 변경, 상태 변경 등의 이력을 관리합니다.
CREATE TABLE contract_history (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 이력의 고유 식별자
    contract_id UUID REFERENCES contracts(id),       -- 계약 ID
    action_type VARCHAR(50) NOT NULL,                -- 작업 유형 (생성/수정/삭제)
    previous_data JSONB,                             -- 변경 전 데이터
    new_data JSONB,                                  -- 변경 후 데이터
    changed_by UUID REFERENCES users(id),            -- 변경 수행자 ID
    changed_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP  -- 변경 일시
);
```

## 계약 구조
1. 계약 유형
   - 공사 계약: 건설 공사
   - 용역 계약: 기술 용역
   - 구매 계약: 자재 구매
   - 임대 계약: 시설 임대

2. 계약 단계
   - 계약 전: 협상 단계
   - 계약 중: 진행 단계
   - 계약 후: 완료 단계
   - 계약 종료: 종료 단계

3. 계약 문서
   - 기본 계약서: 기본 계약
   - 세부 계약서: 세부 사항
   - 부속 문서: 추가 문서
   - 변경 문서: 변경 사항

## 운영 정책
1. 계약 관리
   - 계약 등록 절차
   - 계약 변경 절차
   - 계약 종료 절차

2. 진행 관리
   - 진행 상황 보고
   - 지연 관리 방안
   - 리스크 관리

3. 문서 관리
   - 문서 보관 기간
   - 문서 접근 권한
   - 문서 보안 정책

4. 평가 관리
   - 평가 주기
   - 평가 기준
   - 평가 결과 활용

1. 계약시 제출 서류 목록
	[[표준도급계약서]]
	[[공사입찰유의서 및 공사계약일반]]
	[[소액수의계약 각서]]
	[[임금체불방지조례 제출 서류]]
	[[청렴계약 이행 서약서]]
	[[공사근로자의 노무비 구분관리 및 지급확인제 서류]]
	[[안전보건 확보 의무 이행서약서]]
	[[수의계약 체결제한 여부 확인서]]
	[[계약보증금 지급 보증서]]
	[[계약보증금 지급각서]]
	
2. 계약서 장성시 필요한 정보
	[[공사명]]
	[[계약일]]
	[[착공일]]
	[[준공예정일]]
	[[계약금액]]
	[[발주처]]