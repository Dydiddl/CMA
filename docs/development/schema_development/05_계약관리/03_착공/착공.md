# 착공 관리 시스템

## 시스템 개요
이 문서는 착공 관리의 구조와 기능을 정의합니다.
착공 정보 관리, 착공 진행 관리, 착공 이력 관리 등을 관리합니다.

## 주요 기능

### 1. 착공 정보 관리
착공의 기본 정보를 관리합니다.
- 착공 등록: 새로운 착공 등록
- 정보 수정: 착공 정보 변경
- 정보 조회: 착공 정보 조회
- 이력 관리: 정보 변경 이력 관리

### 2. 착공 진행 관리
착공의 진행 상황을 관리합니다.
- 진행 등록: 착공 진행 등록
- 진행 수정: 진행 정보 변경
- 진행 조회: 진행 목록 조회
- 진행 분석: 진행 상황 분석

### 3. 착공 문서 관리
착공 관련 문서를 관리합니다.
- 문서 등록: 착공 문서 등록
- 문서 수정: 문서 정보 변경
- 문서 조회: 문서 목록 조회
- 문서 보관: 문서 보관 관리

## DB 연계
```sql
-- 착공 테이블: 착공의 기본 정보를 저장합니다.
CREATE TABLE construction_starts (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),  -- 착공의 고유 식별자
    contract_id UUID REFERENCES contracts(id),       -- 계약 ID
    name VARCHAR(100) NOT NULL,                      -- 공사명
    start_date DATE NOT NULL,                        -- 착공일
    site_manager_id UUID REFERENCES users(id),       -- 현장대리인 ID
    status VARCHAR(50) NOT NULL,                     -- 상태
    description TEXT,                                -- 설명
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 착공 문서 테이블: 착공 관련 문서 정보를 저장합니다.
CREATE TABLE construction_start_documents (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    construction_start_id UUID REFERENCES construction_starts(id),
    name VARCHAR(100) NOT NULL,                      -- 문서명
    document_type VARCHAR(50) NOT NULL,              -- 문서 유형
    file_path TEXT NOT NULL,                         -- 파일 경로
    version VARCHAR(20),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 착공 이력 테이블: 착공 정보 변경 사항을 추적합니다.
CREATE TABLE construction_start_history (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    construction_start_id UUID REFERENCES construction_starts(id),
    action_type VARCHAR(50) NOT NULL,
    previous_data JSONB,
    new_data JSONB,
    changed_by UUID REFERENCES users(id),
    changed_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

## 착공 구조
1. 착공 제출 서류
   - 착공계
   - 현장대리인 선임계
   - 공사 산출내역서
   - 착공 사진
   - 현장조사서
   - 직접시공확인서 및 품질관리계획서

2. 착공 단계 주요 정보
   - 공사명
   - 계약번호
   - 착공일
   - 현장대리인
   - 착공계 제출일
   - 착공 관련 비고

## 운영 정책
1. 착공 관리
   - 착공 등록 절차
   - 착공 변경 절차
   - 착공 종료 절차

2. 진행 관리
   - 진행 상황 보고
   - 지연 관리 방안
   - 리스크 관리

3. 문서 관리
   - 문서 보관 기간
   - 문서 접근 권한
   - 문서 보안 정책
