# 준공 관리 시스템

## 시스템 개요
이 문서는 준공 관리의 구조와 기능을 정의합니다.
준공 정보 관리, 준공 진행 관리, 준공 이력 관리 등을 관리합니다.

## 주요 기능

### 1. 준공 정보 관리
준공의 기본 정보를 관리합니다.
- 준공 등록: 새로운 준공 등록
- 정보 수정: 준공 정보 변경
- 정보 조회: 준공 정보 조회
- 이력 관리: 정보 변경 이력 관리

### 2. 준공 진행 관리
준공의 진행 상황을 관리합니다.
- 진행 등록: 준공 진행 등록
- 진행 수정: 진행 정보 변경
- 진행 조회: 진행 목록 조회
- 진행 분석: 진행 상황 분석

### 3. 준공 문서 관리
준공 관련 문서를 관리합니다.
- 문서 등록: 준공 문서 등록
- 문서 수정: 문서 정보 변경
- 문서 조회: 문서 목록 조회
- 문서 보관: 문서 보관 관리

## DB 연계
```sql
-- 준공 테이블: 준공의 기본 정보를 저장합니다.
CREATE TABLE completions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    contract_id UUID REFERENCES contracts(id),
    name VARCHAR(100) NOT NULL,
    expected_completion_date DATE,
    actual_completion_date DATE,
    inspector_id UUID REFERENCES users(id),
    status VARCHAR(50) NOT NULL,
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 준공 문서 테이블: 준공 관련 문서 정보를 저장합니다.
CREATE TABLE completion_documents (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    completion_id UUID REFERENCES completions(id),
    name VARCHAR(100) NOT NULL,
    document_type VARCHAR(50) NOT NULL,
    file_path TEXT NOT NULL,
    version VARCHAR(20),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 준공 이력 테이블: 준공 정보 변경 사항을 추적합니다.
CREATE TABLE completion_history (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    completion_id UUID REFERENCES completions(id),
    action_type VARCHAR(50) NOT NULL,
    previous_data JSONB,
    new_data JSONB,
    changed_by UUID REFERENCES users(id),
    changed_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

## 준공 구조
1. 준공 제출 서류
   - 준공계
   - 준공사진
   - 산재/고용보험 납입증명서
   - 환경보전비, 안전관리비 정산서
   - 근로자퇴직공제부금납부확인서
   - 건설기계사용내역서

2. 준공 단계 주요 정보
   - 공사명
   - 계약번호
   - 준공예정일
   - 실제 준공일
   - 준공계 제출일
   - 준공 관련 비고

## 운영 정책
1. 준공 관리
   - 준공 등록 절차
   - 준공 변경 절차
   - 준공 종료 절차

2. 진행 관리
   - 진행 상황 보고
   - 지연 관리 방안
   - 리스크 관리

3. 문서 관리
   - 문서 보관 기간
   - 문서 접근 권한
   - 문서 보안 정책 