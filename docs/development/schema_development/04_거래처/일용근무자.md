# 일용근무자 관리 시스템

## 시스템 개요
이 문서는 일용근무자(개인) 관리의 구조와 기능을 정의합니다.
일용근무자 등록, 근무 이력, 노무비 지급, 필수 서류 관리 등을 체계적으로 관리합니다.

## 핵심 요구사항
- 거래처(노무/인력업체)와 별도로, 일용근무자를 개별 인력으로 관리
- 일용근무자는 회사 소속이 아니며, 여러 현장에 이동/반복적으로 투입될 수 있음
- 출근 이력, 근무일, 노무비 지급 이력 등 이력 누적이 중요
- 필수 서류: 신분증, 통장사본, 건설기초안전교육 수료증, 전화번호 등
- 노무비 지급은 현장별로 종합하여 지급

## 주요 기능
1. 일용근무자 등록/수정/삭제
2. 필수 서류 첨부 및 갱신 관리
3. 현장별 근무 이력 관리(반복 출근, 여러 현장 이동 모두 누적)
4. 노무비 지급 이력 관리(현장별, 기간별 집계)
5. 거래처(노무업체) 연계(선택적)

## 데이터 구조(스키마)

### 1) 일용근무자 테이블 (개별 인력 관리)
- id (PK)
- 이름
- 주민등록번호(암호화/마스킹)
- 전화번호
- 신분증 사본(파일)
- 통장사본(파일)
- 건설기초안전교육 수료증(파일)
- 최초 등록일, 최근 근무일 등

### 2) 현장-일용근무자 매핑 테이블 (근무 이력)
- id (PK)
- 현장ID
- 일용근무자ID
- 근무일
- 투입시간/퇴근시간(선택)
- 노무비 지급여부/지급일
- 비고

### 3) 노무비 지급 테이블 (현장별 지급 관리)
- id (PK)
- 현장ID
- 지급일
- 지급대상자(일용근무자ID 리스트)
- 총 지급액
- 지급내역(엑셀/파일)
- 비고

### 4) 거래처(노무업체) 연계(선택)
- 일용근무자가 노무업체 소속일 경우, 거래처ID로 연계(필수는 아님)

## 관리 프로세스 예시
1. **일용근무자 등록**
   - 필수 서류(신분증, 통장사본, 교육수료증, 전화번호 등) 업로드
   - 신규/기존 여부 확인(이름+주민번호+전화번호 등 중복체크)
2. **현장 투입/근무 이력 기록**
   - 근무일마다 현장-일용근무자 매핑 생성
   - 반복 출근/여러 현장 이동 모두 이력 누적
3. **노무비 지급**
   - 현장별로 해당 기간 근무자 리스트 자동 집계
   - 지급내역 생성 및 지급 처리(지급여부, 지급일 기록)
4. **이력/서류 관리**
   - 일용근무자별 근무이력, 서류, 지급이력 모두 누적 관리
   - 필요시 거래처(노무업체)와 연계

## 장점 및 확장성
- 개인 단위로 이력 누적: 반복 출근, 여러 현장 이동 모두 추적 가능
- 현장별 지급 집계 용이: 현장-일용근무자 매핑으로 자동 집계
- 서류/정보 최신화: 서류 만료/갱신 관리 가능
- 노무업체 연계 유연: 필요시만 거래처와 연결, 직접 고용도 대응
- 향후 자동화/전자지급/출입관리 등 확장에 유리

## 예시 테이블 구조(SQL)
```sql
-- 일용근무자(개인) 테이블
CREATE TABLE daily_workers (
    id UUID PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    rrn VARCHAR(100), -- 주민번호(암호화/마스킹)
    phone VARCHAR(20),
    id_card_file TEXT,
    bankbook_file TEXT,
    safety_cert_file TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- 현장-일용근무자 근무 이력
CREATE TABLE site_daily_worker (
    id UUID PRIMARY KEY,
    site_id UUID REFERENCES sites(id),
    worker_id UUID REFERENCES daily_workers(id),
    work_date DATE NOT NULL,
    start_time TIME,
    end_time TIME,
    wage_paid BOOLEAN DEFAULT FALSE,
    wage_paid_date DATE,
    note TEXT
);

-- 노무비 지급 집계
CREATE TABLE site_wage_payments (
    id UUID PRIMARY KEY,
    site_id UUID REFERENCES sites(id),
    payment_date DATE NOT NULL,
    total_amount NUMERIC,
    payment_file TEXT,
    note TEXT
);
```

## 운영 정책
1. 개인정보 보호 및 보안(주민번호, 서류 등)
2. 서류 만료/갱신 관리
3. 지급 기준 및 지급 절차 명확화
4. 현장별, 근무자별 이력 관리 체계화
5. 필요시 거래처(노무업체) 연계 정책 