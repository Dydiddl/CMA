# 개발 가이드

## 1. 개발 환경 설정

### 1.1 데이터베이스 전략
- **개발 단계**: 로컬 PostgreSQL 데이터베이스 사용
  - 이유: 비용 절감, 빠른 개발, 안전한 테스트 환경
  - 설정: PostgreSQL 14 버전 사용
  - 데이터베이스명: construction_management

- **테스트/스테이징 단계**: Supabase 사용
  - 이유: 실제 환경과 동일한 조건에서 테스트
  - 실제 사용량 파악 가능
  - Supabase의 특별 기능 테스트

- **프로덕션 단계**: Supabase 사용
  - 이유: 클라우드 기반 안정성
  - 다중 사용자 접근 지원
  - 확장성 확보

### 1.2 기술 스택
- **프론트엔드**: React + TypeScript + Tauri
- **백엔드**: Python + FastAPI
- **데이터베이스**: 
  - 개발: PostgreSQL (로컬)
  - 프로덕션: Supabase (PostgreSQL 기반)

## 2. 개발 프로세스

### 2.1 로컬 개발 환경 설정
1. PostgreSQL 설치 및 설정
2. 로컬 데이터베이스 생성
3. 백엔드 환경 변수 설정
4. 프론트엔드 개발 서버 실행

### 2.2 데이터베이스 마이그레이션
- 개발 → 테스트 → 프로덕션 환경 전환 시 필요한 마이그레이션 절차
- 데이터 백업 및 복원 방법
- 스키마 변경 관리 방법

## 3. 코드 구조

### 3.1 백엔드 구조
```
backend/
├── app/
│   ├── api/          # API 엔드포인트
│   ├── core/         # 핵심 설정
│   ├── services/     # 비즈니스 로직
│   └── models/       # 데이터 모델
├── tests/            # 테스트 코드
└── main.py          # 애플리케이션 진입점
```

### 3.2 프론트엔드 구조
```
frontend/
├── src/
│   ├── components/   # UI 컴포넌트
│   ├── pages/        # 페이지 컴포넌트
│   ├── services/     # API 서비스
│   └── types/        # TypeScript 타입 정의
└── public/          # 정적 파일
```

## 4. 보안 가이드라인

### 4.1 환경 변수
- `.env` 파일은 버전 관리에서 제외
- 민감한 정보는 환경 변수로 관리
- 개발/테스트/프로덕션 환경별 설정 분리

### 4.2 인증/인가
- JWT 기반 인증 사용
- 역할 기반 접근 제어 (RBAC) 구현
- API 엔드포인트 보안

## 5. 테스트 전략

### 5.1 단위 테스트
- 백엔드: pytest 사용
- 프론트엔드: Jest + React Testing Library

### 5.2 통합 테스트
- API 엔드포인트 테스트
- 데이터베이스 연동 테스트

## 6. 배포 프로세스

### 6.1 개발 → 테스트 → 프로덕션
1. 로컬 개발 환경에서 테스트
2. 테스트 환경(Supabase)에서 검증
3. 프로덕션 환경 배포

### 6.2 배포 체크리스트
- 데이터베이스 마이그레이션
- 환경 변수 설정
- 보안 설정 확인
- 성능 테스트

## 7. 유지보수 가이드라인

### 7.1 코드 품질
- 코드 스타일 가이드 준수
- 정기적인 코드 리뷰
- 문서화 유지

### 7.2 모니터링
- 에러 로깅
- 성능 모니터링
- 사용량 추적

## 8. 변경 이력

### 2024-03-20
- 초기 개발 가이드 작성
- 데이터베이스 전략 수립
- 개발 환경 설정 가이드 추가 